const api=function(){function e(){let e=localStorage.getItem("items"),t=JSON.parse(e);return t??[]}function t(e){let t=JSON.stringify(e);localStorage.setItem("items",t)}return{loadInventory(e){localStorage.setItem("title",e.title),localStorage.setItem("currency",e.currency),t(e.items)},fetchInventory(){let t=localStorage.getItem("title"),r=localStorage.getItem("currency"),n=e();return{title:t,currency:r,items:n}},fetchItems:()=>e(),fetchItem(t){let r=e();return r.find(e=>e.id==t)},fetchTitle:()=>localStorage.getItem("title"),editTitle(e){localStorage.setItem("title",e)},fetchCurrency:()=>localStorage.getItem("currency"),editCurrency(e){localStorage.setItem("currency",e)},addItem(r,n,a,m,l,o,c){let i=e(),s=i.findIndex(e=>e.id===r);return -1===s&&(i.push({id:r,name:n,type:a,colour:m,quantity:l,date:o,price:c}),t(i),!0)},updateItem(r,n,a,m,l,o,c){let i=e(),s=i.findIndex(e=>e.id===r);return -1!==s&&(i[s]={id:r,name:n,type:a,colour:m,quantity:l,date:o,price:c},t(i),!0)},updateItems(e){t(e)},deleteItem(r){let n=e(),a=n.findIndex(e=>e.id==r);return -1!==a&&(n.splice(a,1),t(n),!0)},searchItems:t=>e().find(e=>e.name.toLowerCase()===t.toLowerCase()),sortItemsByName(t=!1){let r=e();return r.sort((e,r)=>t?r.name.localeCompare(e.name):e.name.localeCompare(r.name)||e.type.localeCompare(r.type)),r},sortItemsByType(t=!1){let r=e();return r.sort((e,r)=>t?r.type.localeCompare(e.type):e.type.localeCompare(r.type)||e.name.localeCompare(r.name)),r},sortItemsByDate(t=!1){let r=e();return r.sort((e,r)=>t?new Date(r.date)-new Date(e.date):new Date(e.date)-new Date(r.date)||e.type.localeCompare(r.type)||e.name.localeCompare(r.name)),r},sortItemsByQuantity(t=!1){let r=e();return r.sort((e,r)=>t?r.quantity-e.quantity:e.quantity-r.quantity||e.type.localeCompare(r.type)||e.name.localeCompare(r.name)),r}}}();