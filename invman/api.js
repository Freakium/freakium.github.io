const api=function(){function e(){let e=localStorage.getItem("items"),t=JSON.parse(e);return t??[]}function t(e){let t=JSON.stringify(e);localStorage.setItem("items",t)}return{loadInventory(e){localStorage.setItem("title",e.title),localStorage.setItem("currency",e.currency),t(e.items)},fetchInventory(){let t=localStorage.getItem("title"),r=localStorage.getItem("currency"),n=e();return{title:t,currency:r,items:n}},fetchItems:()=>e(),fetchItem(t){let r=e();return r.find(e=>e.id==t)},fetchItemsByType(t){let r=e();return r.filter(e=>t.includes(e.type))},fetchTitle:()=>localStorage.getItem("title"),editTitle(e){localStorage.setItem("title",e)},fetchCurrency:()=>localStorage.getItem("currency"),editCurrency(e){localStorage.setItem("currency",e)},addItem(r,n,a,m,l,i,o,c,p){let s=e(),y=s.findIndex(e=>e.id===r);return -1===y&&(s.push({id:r,name:n,type:a,colour:m,quantity:l,date:i,price:o,weight:c,weightUnit:p}),t(s),!0)},updateItem(r,n,a,m,l,i,o,c,p){let s=e(),y=s.findIndex(e=>e.id===r);return -1!==y&&(s[y]={id:r,name:n,type:a,colour:m,quantity:l,date:i,price:o,weight:c,weightUnit:p},t(s),!0)},updateItems(e){t(e)},deleteItem(r){let n=e(),a=n.findIndex(e=>e.id==r);return -1!==a&&(n.splice(a,1),t(n),!0)},searchItems:t=>e().find(e=>e.name.toLowerCase()===t.toLowerCase()),sortItemsByName(r=!1){let n=e();return n.sort((e,t)=>r?t.name.localeCompare(e.name):e.name.localeCompare(t.name)||e.type.localeCompare(t.type)),t(n),n},sortItemsByType(r=!1){let n=e();return n.sort((e,t)=>r?t.type.localeCompare(e.type):e.type.localeCompare(t.type)||e.name.localeCompare(t.name)),t(n),n},sortItemsByDate(r=!1){let n=e();return n.sort((e,t)=>r?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date)||e.type.localeCompare(t.type)||e.name.localeCompare(t.name)),t(n),n},sortItemsByQuantity(r=!1){let n=e();return n.sort((e,t)=>r?t.quantity-e.quantity:e.quantity-t.quantity||e.type.localeCompare(t.type)||e.name.localeCompare(t.name)),t(n),n},sortItemsByPrice(r=!1){let n=e();return n.sort((e,t)=>r?(t.price??0)*(t.weight?t.weight:1)-(e.price??0)*(e.weight?e.weight:1):(e.price??0)*(e.weight?e.weight:1)-(t.price??0)*(t.weight?t.weight:1)||e.type.localeCompare(t.type)||e.name.localeCompare(t.name)),t(n),n}}}();