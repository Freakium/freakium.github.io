<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
  <title>Ross Chan's Projects</title>
  <link rel="icon" type="image/x-icon" href="img/favicon.ico">
  <link rel=stylesheet href=src/bootstrap/css/bootstrap-icons.min.css>
  <link rel=stylesheet href=src/bootstrap/css/bootstrap.min.css>
  <style>
    :root {
      --ultra-rare: repeating-linear-gradient(to right, rgb(50, 160, 240), rgb(125, 60, 189), rgb(50, 160, 240));
    }

    body {
      display: flex;
      flex-direction: column;
      height: 100vh;
      margin: 0;
      font-family: 'Roboto', sans-serif;
    }

    main {
      margin: 1rem;
    }

    footer {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-top: auto;
      padding-bottom: .5rem;

      span {
        margin-left: .25rem;
      }
    }

    .hoverCards .card:hover {
      opacity: 1 !important;
    }
    .hoverCards h3 {
      margin-bottom: 0;
    }

    .projectCards {
      img {
        max-width: 100%;
      }
    }

    .ultra-rare {
      color: transparent;
      background: var(--ultra-rare);
      background-size: 50% 100%;
      background-clip: text;
      animation: ultra-rare-anim 3s linear infinite;
    }
    @keyframes ultra-rare-anim {
      0% {
        background-position: 100% 0;
      }
    }
    
    #titleName {
      font-size: 4.5rem;
    }

    #themeBtn {
      position: fixed;
      top: 10px;
      right: 10px;
    }

    #warpBody {
      background: url('img/stars.jpg');
    }

    #warpCanvas {
      width: 100vw;
      height: 100vh;
    }

    /* Animated Background */
    .bg {
      animation: sliderX 26s ease-in-out infinite alternate;
      background-image: linear-gradient(-45deg, rgba(88, 88, 88, 0.13) 50%, rgba(88, 88, 88, 0.055) 50%);
      bottom: 0;
      left: -50%;
      opacity: 0.5;
      position: fixed;
      right: -50%;
      top: 0;
      z-index: -1;
    }
    .bg2 {
      animation-direction: alternate-reverse;
      animation-duration: 27s;
    }
    .bg3 {
      animation-duration: 28s;
    }
    @keyframes sliderX {
      0% {
        transform: translateX(-25%);
      }
      100% {
        transform: translateX(25%);
      }
    }
    @keyframes sliderY {
      0% {
        transform: translateY(-50%);
      }
      100% {
        transform: translateY(50%);
      }
    }
    @keyframes spinner {
      0% {
        transform: rotate(-90deg);
      }
      100% {
        transform: rotate(90deg);
      }
    }
    @keyframes microscope {
      from {
        transform: scale(0.5) rotate(0deg);
        opacity: 1;
      }
      to {
        transform: scale(5) rotate(960deg);
        opacity: 0;
      }
    }

    /* Viewscreen Buttons */
    .turnFade {
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
      transform: rotate(180deg);
      opacity: 0;
    }
    .turnFade:hover {
      transform: rotate(0deg);
      opacity: 1;
    }
  </style>
</head>

<body>
  <!-- ANIMATED BACKGROUND -->
  <div class="bg"></div>
  <div class="bg bg2"></div>
  <div class="bg bg3"></div>

  <main>
    <button class="btn btn-secondary rounded-circle z-1" id="themeBtn" onclick="toggleTheme()"><i class="bi bi-moon-stars-fill"></i></button>
    
    <!-- PERSONAL CARD -->
    <div class="container bg-secondary-subtle shadow rounded-4 text-center mt-5 p-5">
      <div class="d-flex justify-content-center">
        <h1 class="ultra-rare fw-bold" id="titleName">Ross Chan</h1>
      </div>
      <h3>Full Stack Developer</h3>
      <h5 class="text-secondary">I have 6+ years of experience with web applications ranging from WordPress eCommerce sites to a tutor âž¡ student scheduling platform.</h5>
      <div class="d-flex justify-content-center flex-column flex-sm-row gap-2">
        <div class="badge bg-success">PHP</div>
        <div class="badge bg-primary">JavaScript</div>
        <div class="badge bg-primary-subtle text-primary-emphasis">JQuery</div>
        <div class="badge bg-warning-subtle text-warning-emphasis">HTML</div>
        <div class="badge bg-danger-subtle text-danger-emphasis">CSS</div>
        <div class="badge bg-success-subtle text-success-emphasis">mySQL</div>
      </div>
      <div class="mt-3">
        <a href="https://drive.google.com/file/d/1M_52iWgpXlcJkzs8fYvKz5dCcv4j2fQl/view" target="_blank" class="btn btn-outline-primary">Portfolio</a>
      </div>
    </div>
    <!-- /PERSONAL CARD -->

    <!-- HOVER CARDS -->
    <div class="container mt-5 p-4">
      <div class="row hoverCards row-gap-4">
        <div class="col-sm-4">
          <div class="card bg-warning-subtle opacity-75 border-3 shadow">
            <div class="card-title text-center text-warning-emphasis pt-2"><h3>Front End</h3></div>
            <div class="card-body py-0">
              <ul>
                <li><span class="text-warning-emphasis">Bootstrap</span></li>
                <li><span class="text-warning-emphasis">React</span></li>
                <li><span class="text-warning-emphasis">Angular</span></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-sm-4">
          <div class="card bg-success-subtle opacity-75 border-3 shadow">
            <div class="card-title text-center text-success-emphasis pt-2"><h3>Back End</h3></div>
            <div class="card-body py-0">
              <ul>
                <li><span class="text-success-emphasis">Laravel</span></li>
                <li><span class="text-success-emphasis">MS SQL Server</span></li>
                <li><span class="text-success-emphasis">phpMyAdmin</span></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-sm-4">
          <div class="card bg-primary-subtle opacity-75 border-3 shadow">
            <div class="card-title text-center text-primary-emphasis pt-2"><h3>WordPress</h3></div>
            <div class="card-body py-0">
              <ul>
                <li><span class="text-primary-emphasis">WooCommerce</span></li>
                <li><span class="text-primary-emphasis">Jetpack</span></li>
                <li><span class="text-primary-emphasis">Inventory updates</span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /HOVER CARDS -->

    <!-- PERSONAL PROJECTS -->
    <div class="container position-relative bg-secondary-subtle shadow rounded-4 mt-5 p-5 projectCards">
      <button class="btn btn-link position-absolute top-0 end-0" data-bs-toggle="offcanvas" data-bs-target="#warpScreen"><i class="bi bi-rocket"></i></button>

      <div class="d-flex justify-content-center">
        <h1 class="ultra-rare fw-bold">Personal Projects</h1>
      </div>

      <div class="card mt-3 p-4">
        <div class="card-title"><h3><a href="invman">Inventory Manager</a></h3></div>
        <div class="card-body">
          <div class="row">
            <div class="col-lg-6">
              <p>Manage your inventory with this simple JavaScript tool.</p>
              <div class="mb-3">
                <div class="badge" style="background-color: blueviolet">Bootstrap</div>
                <div class="badge bg-primary">JavaScript</div>
              </div>
            </div>
            <div class="col-lg-6"><a href="invman"><img src="img/InvMan.jpg"></a></div>
          </div>
        </div>
      </div>

      <div class="card mt-3 p-4">
        <div class="card-title"><h3><a href="motivgen">Motivational Poster Generator</a></h3></div>
        <div class="card-body">
          <div class="row">
            <div class="col-lg-6">
              <p>Create a motivational poster by uploading your own image or searching for it courtesy of Pexels.</p>
              <div class="mb-3">
                <div class="badge bg-danger">Angular</div>
                <div class="badge" style="background-color: rgb(5, 160, 129)">Pexels</div>
              </div>
            </div>
            <div class="col-lg-6"><a href="motivgen"><img src="img/MotivGen.jpg"></a></div>
          </div>
        </div>
      </div>

      <div class="card mt-3 p-4">
        <div class="card-title"><h3><a href="shipnamegen">Starship Name Generator</a></h3></div>
        <div class="card-body">
          <div class="row">
            <div class="col-lg-6">
              <p>Generates a list of names for your starship.</p>
              <div class="mb-3">
                <div class="badge" style="background-color: blueviolet">Bootstrap</div>
                <div class="badge bg-primary">JavaScript</div>
              </div>
            </div>
            <div class="col-lg-6"><a href="shipnamegen"><img src="img/ShipGen.jpg"></a></div>
          </div>
        </div>
      </div>
    </div>
    <!-- /PERSONAL PROJECTS -->
    
  </main>

  <!-- MODALS -->
  <div class="offcanvas offcanvas-top h-100" id="warpScreen" tabindex="-1">
    <div class="offcanvas-body bg-black p-0 d-flex align-items-center justify-content-center" id="warpBody">
      <button type="button" class="btn position-fixed start-0 bottom-0 turnFade" onclick="fireTorpedo()" aria-label="Fire">
        <i class="bi bi-fire text-danger"></i>
      </button>
      <button id="closeViewScreen" type="button" class="btn position-fixed end-0 top-0 turnFade" data-bs-dismiss="offcanvas" aria-label="Close">
        <i class="bi bi-x-lg text-light"></i>
      </button>
      <canvas id="warpCanvas"></canvas>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src=src/bootstrap/js/bootstrap.bundle.min.js></script>
  <script>
    (function () {
      const BACKGROUNDS = ['sliderX', 'sliderY', 'spinner', 'microscope'];

      addEventListener("load", (e) => {
        // set to dark mode if system theme is dark
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          toggleTheme();
        }

        // set random background animation
        randomBackground();
      });

      /**
       * Toggles the theme between light and dark mode
       */
      window.toggleTheme = () => {
        const btn = document.getElementById('themeBtn');
        let html = document.documentElement;

        if (html.hasAttribute('data-bs-theme')) {
          html.removeAttribute('data-bs-theme');
          btn.innerHTML = `<i class="bi bi-moon-stars-fill"></i>`;
        }
        else {
          html.setAttribute('data-bs-theme', 'dark');
          btn.innerHTML = `<i class="bi bi-brightness-high-fill"></i>`;
        }
      }

      /**
       * Randomly sets the main background animation
       */
      function randomBackground() {
        let rand = Math.floor(Math.random() * BACKGROUNDS.length);
        let animation = BACKGROUNDS[rand];

        document.querySelectorAll('.bg').forEach(bg => {
          bg.style.animationName = animation;
        });
      }

      // WARP SPEED SIMULATION
      /****************************************/
      // Screen
      let canvasWidth, canvasHeight, centerX, centerY;
      let viewScreen = document.getElementById('warpCanvas');
      let mainContext = viewScreen.getContext('2d');
      let isWarp = false;
      let clickCount = 0;
      clickTimers = [];

      // Stars
      const STAR_LENGTH = 1.2;
      let animationId;
      let frames_per_second = 60;
      let stars = [];

      // Torpedo
      let torpedoes = [];

      // Timings
      let interval = Math.floor(1000 / frames_per_second);
      let startTime = performance.now();
      let previousTime = startTime;
      let currentTime = 0;
      let deltaTime = 0;

      // Listeners
      document.getElementById('warpScreen').addEventListener('shown.bs.offcanvas', e => {
        screenInit();
      });
      document.getElementById('warpScreen').addEventListener('hidden.bs.offcanvas', e => {
        screenClear();
        isWarp = false;
      });
      viewScreen.addEventListener('click', () => {
        isWarp = !isWarp;
        clickCount++;

        if(clickCount === 3) {
          let num = 0;
          document.querySelectorAll('.turnFade').forEach(btn => {
            btn.classList.remove('turnFade');
            clickCount = 0;

            clearTimeout(clickTimers[num]);
            clickTimers[num] = setTimeout(() => {
              btn.classList.add('turnFade');
            }, 3000);

            num++;
          });
        }
      })
      screen.orientation.addEventListener('change', () => {
        let viewScreenOn = document.getElementById('warpScreen').classList.contains('show');
        if(viewScreenOn) {
          // use resize event to get proper screen dimensions (otherwise it usually picks up the previous dimensions)
          var afterOrientation = function() {
            screenInit();
            window.removeEventListener('resize', afterOrientation);
          };
          window.addEventListener('resize', afterOrientation);
        }
      });

      /**
       * Animate a torpedo firing into the distance.
       */
      window.fireTorpedo = () => {
        let torpedo = new Torpedo();
        torpedoes.push(torpedo);

        // play sound
        let photon = new Audio('aud/photon.wav');
        photon.play();
      }

      /**
       * Draw an animated star/starstreak to the canvas.
       */
      class Star {
        #screenEdge = canvasWidth >= canvasHeight ? canvasWidth : canvasHeight;

        constructor() {
          let star = this.#generateStar();

          this.x = star.x;
          this.y = star.y;
          this.radiusMax = star.radiusMax;
          this.speed = star.speed;

          this.counter = getRandomInt(1, this.#screenEdge);
        }

        #generateStar() {
          return {
            x: getRandomInt(-centerX, centerX),
            y: getRandomInt(-centerY, centerY),
            radiusMax: getRandomInt(1, 3),
            speed: isWarp ? getRandomInt(20, 200) : getRandomInt(1, 10)
          }
        }

        drawStar() {
          this.counter -= this.speed;

          if (this.counter < 1) {
            let star = this.#generateStar();

            this.x = star.x;
            this.y = star.y;
            this.radiusMax = star.radiusMax;
            this.speed = star.speed;

            this.counter = this.#screenEdge;
          }

          let xRatio = this.x / this.counter;
          let yRatio = this.y / this.counter;

          let starX = remap(xRatio, 0, 1, 0, canvasWidth);
          let starY = remap(yRatio, 0, 1, 0, canvasHeight);

          this.radius = remap(this.counter, 0, this.#screenEdge, this.radiusMax, 0);

          // Begin drawing
          mainContext.beginPath();

          // Warp speed
          if(isWarp) {
            mainContext.moveTo(starX, starY);
            let prevLoc = {
              x: STAR_LENGTH * starX,
              y: STAR_LENGTH * starY
            };
            mainContext.lineTo(prevLoc.x, prevLoc.y);
            mainContext.strokeStyle = "#a1d7ff";
            mainContext.stroke();
          }
          // Impulse speed
          else {
            mainContext.arc(starX, starY, this.radius, 0, Math.PI * 2, false);
            mainContext.fillStyle = "#fff";
            mainContext.fill();
          }

          // Stop drawing
          mainContext.closePath();
        }
      }

      /**
       * Draw an animated torpedo to the canvas.
       */
      class Torpedo {
        constructor() {
          this.x = getRandomInt(-5, 5); // introduce some randomness to the shots
          this.y = centerY;
          this.radius = Math.floor(canvasHeight / 25);
          this.speed = 6;

          this.counter = canvasHeight;
        }

        drawTorpedo() {
          this.counter -= this.speed;

          if(this.radius < 1) {
            return true;
          }

          // colours
          const CORE_COLOUR = '#f4fd7c';
          const CORE_SIZE = 25;
          const GLOW_COLOUR = '#fa1400';
          const GLOW_SIZE = 64;

          this.y -= this.speed;
          this.radius -= 0.5;

          // Set glow properties
          mainContext.shadowColor = GLOW_COLOUR;
          mainContext.shadowBlur = GLOW_SIZE;
          mainContext.shadowOffsetX = 0;
          mainContext.shadowOffsetY = 0;

          // Draw the inner core
          mainContext.beginPath();
          mainContext.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
          mainContext.fillStyle = CORE_COLOUR;
          mainContext.fill();

          // Reset shadow properties to avoid affecting other drawings
          mainContext.shadowColor = 'transparent';
          mainContext.shadowBlur = 0;
        }
      }

      /**
       * Initialize values for current screen size.
       */
      function screenInit() {
        screenClear();

        canvasWidth = viewScreen.offsetWidth;
        canvasHeight = viewScreen.offsetHeight;
        viewScreen.width = canvasWidth;
        viewScreen.height = canvasHeight;

        centerX = Math.floor(canvasWidth * 0.5);
        centerY = Math.floor(canvasHeight * 0.5);

        setup();
        draw();
      }

      /**
       * Clear the canvas.
       */
      function screenClear() {
        mainContext.clearRect(0, 0, canvasWidth, canvasHeight);
        cancelAnimationFrame(animationId);
      }

      /**
       * Initialize starfield.
       */
      function setup() {
        stars = [];

        // let total number of stars be half the pixel count of the longest screen length (calculation already stored in center*)
        let totalStars = canvasWidth >= canvasHeight ? centerX : centerY;

        for (let i=0; i < totalStars; i++) {
          let star = new Star();
          stars.push(star);
        }
      }

      /**
       * Draw the starfield onto the canvas.
       */
      function draw(timestamp) {
        currentTime = timestamp;
        deltaTime = currentTime - previousTime;

        if (deltaTime > interval) {
          previousTime = currentTime - (deltaTime % interval);

          mainContext.clearRect(0, 0, canvasWidth, canvasHeight);
          mainContext.fillStyle = "transparent";
          mainContext.fillRect(0, 0, canvasWidth, canvasHeight);

          mainContext.translate(centerX, centerY);

          for (let i=0; i < stars.length; i++) {
            let star = stars[i];
            star.drawStar();
          }
          for (let j=0; j < torpedoes.length; j++) {
            let torpedo = torpedoes[j];
            let fired = torpedo.drawTorpedo();
            if(fired) {
              let index = torpedoes.indexOf(torpedo);
              if (index > -1) {
                torpedoes.splice(index, 1);
              }
            }
          }

          mainContext.translate(-centerX, -centerY);
        }

        animationId = requestAnimationFrame(draw);
      }

      /**
       * Generate a random whole number between two specified values.
       * @param min The minimum value
       * @param max The maximum value
       */
      function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function remap(value, istart, istop, ostart, ostop) {
        // Ensure values are numerical to avoid potential errors
        value = Number(value);
        istart = Number(istart);
        istop = Number(istop);
        ostart = Number(ostart);
        ostop = Number(ostop);

        // Perform the mapping calculation
        return ostart + (ostop - ostart) * ((value - istart) / (istop - istart));
      }
    })();
  </script>
</body>

<footer>
  <div class="d-flex gap-3">
    <a aria-label="Check My LinkedIn" target="_blank" rel="noopener" class="link-secondary" href="https://www.linkedin.com/in/ross-lc-chan/" title="Check My LinkedIn">
      <i class="bi bi-linkedin fs-5"></i>
    </a>
    <a aria-label="Check My GitHub" target="_blank" rel="noopener" class="link-secondary" href="https://github.com/Freakium/" title="Check My GitHub">
      <i class="bi bi-github fs-5"></i>
    </a>
    <a aria-label="Send Me An Email" class="link-secondary" href="mailto:rosslcchan@gmail.com" title="Send Me An Email">
      <i class="bi bi-envelope fs-5"></i>
    </a>
  </div>
  <span><script>document.write(` Freakium ${/\d{4}/.exec(Date())[0]}`)</script></span>
</footer>

</html>